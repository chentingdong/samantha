# Migration `20200603211157-add-delete-state`

This migration has been generated by Baiji He at 6/3/2020, 9:11:57 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TYPE "State" ADD VALUE 'DELETE'

ALTER TABLE "public"."Block" ALTER COLUMN "state" SET DEFAULT 'DRAFT',
ALTER COLUMN "type" SET DEFAULT 'COMPOSITE_PARALLEL';

ALTER TABLE "public"."BlockDef" ALTER COLUMN "type" SET DEFAULT 'COMPOSITE_PARALLEL';
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200522134027-init..20200603211157-add-delete-state
--- datamodel.dml
+++ datamodel.dml
@@ -3,12 +3,13 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = env("DATABASE_URL")
 }
 enum State {
+  DELETE
   DRAFT
   PENDING
   ACTIVE
   COMPLETE
@@ -58,5 +59,5 @@
   parent       BlockDef?  @relation("blockDefParentChildren", fields: [parentId], references: [id])
   children     BlockDef[] @relation("blockDefParentChildren")
   created_at   DateTime   @default(now())
   last_updated DateTime   @default(now())
-}
+}
```


