(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{124:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return RequestDefsMenu}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),uuid__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(51),uuid__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(uuid__WEBPACK_IMPORTED_MODULE_1__),_context_store__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5);function RequestDefsMenu(){var _React$useContext=react__WEBPACK_IMPORTED_MODULE_0__.useContext(_context_store__WEBPACK_IMPORTED_MODULE_2__.a),state=_React$useContext.state,dispatch=_React$useContext.dispatch;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:""},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"d-flex justify-content-between"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h2",{className:"col-4"},"Request Defs Menu"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"btn btn-link col-3 text-right",style:{zIndex:100}},state.uiState.showEditRequestDef||state.uiState.showEditRequest?react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{onClick:function returnToMenu(){dispatch({type:"set",data:{currentRequestDef:_context_store__WEBPACK_IMPORTED_MODULE_2__.b.currentRequestDef}}),dispatch({type:"setUi",data:{showEditRequestDef:!1,showEditRequest:!1}})}},"Return to menu"):react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{onClick:function createRequestDef(){_context_store__WEBPACK_IMPORTED_MODULE_2__.b.currentRequestDef.id=uuid__WEBPACK_IMPORTED_MODULE_1___default.a.v4(),dispatch({type:"setUi",data:{showEditRequestDef:!0}})}},"Add Request to Menu"))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"container-fluid"},state.requestDefs&&state.requestDefs.map((function(requestDef,index){var _requestDef$blocks;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{key:"request-".concat(index),className:"card mt-2 pt-2"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"d-flex justify-content-between"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"col-7"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h4",null,requestDef.name),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,requestDef.description),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,"Owner: ",requestDef.requester),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,requestDef.blocks&&(null===(_requestDef$blocks=requestDef.blocks)||void 0===_requestDef$blocks?void 0:_requestDef$blocks.map((function(block,index2){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"border p-2 mr-2",key:"block-".concat(index2)},block.name)}))))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"col-3"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"btn btn-link",onClick:function onClick(e){return function makeRequest(requestDef){var currentRequest=Object.assign({},requestDef,{id:uuid__WEBPACK_IMPORTED_MODULE_1___default.a.v4(),name:"",requester:state.user.id});dispatch({type:"set",data:{currentRequest:currentRequest}}),dispatch({type:"setUi",data:{showEditRequest:!0}})}(requestDef)}},"Make a request"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"btn btn-link",onClick:function onClick(e){return function editRequestDef(requestDef){dispatch({type:"set",data:{currentRequestDef:requestDef}}),dispatch({type:"setUi",data:{showEditRequestDef:!0}})}(requestDef)}},"View/Edit"))))}))))}},126:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return OptionsUsers}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_context_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5),OptionsUsers=function OptionsUsers(){var _React$useContext=react__WEBPACK_IMPORTED_MODULE_0___default.a.useContext(_context_store__WEBPACK_IMPORTED_MODULE_1__.a),state=_React$useContext.state;_React$useContext.dispatch;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,null,state.users.map((function(user){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option",{value:user.id,key:user.id},user.attributes.name)})))}},156:function(module){module.exports=JSON.parse('{"isAuthenticated":false,"user":{},"users":[],"currentRequestDef":{"id":"","name":"","description":"","type":"parallelStages","state":"pending","requester":"","responders":[],"blocks":[]},"requestDefs":[],"currentBlockDef":{"id":"","name":"","description":"","type":"leaf","state":"pending","requester":"","responders":[],"blocks":[]},"blockDefs":[],"currentRequest":{"id":"","name":"","description":"","type":"parallelStages","state":"pending","requester":"","responders":[],"blocks":[]},"requests":[],"messages":[],"uiState":{"showEditRequestDef":false,"showEditRequest":false,"showRequestViewRequester":false,"showRequestViewResponder":false}}')},159:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return EditRequestDef}));var _Volumes_Code_samantha_frontend_poc_ui_v3_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(41),_Volumes_Code_samantha_frontend_poc_ui_v3_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_Volumes_Code_samantha_frontend_poc_ui_v3_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__),_Volumes_Code_samantha_frontend_poc_ui_v3_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(24),_Volumes_Code_samantha_frontend_poc_ui_v3_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(94),_Volumes_Code_samantha_frontend_poc_ui_v3_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(96),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__),react_hook_form__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(157),_context_store__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(5),react_bootstrap__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(812),_block_block_def_palette__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(164),_block_dnd_target_box__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(91),_block_request_blocks__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(163),_user_options_users__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(126),EditRequestDef=function EditRequestDef(props){var _useContext=Object(react__WEBPACK_IMPORTED_MODULE_4__.useContext)(_context_store__WEBPACK_IMPORTED_MODULE_6__.a),state=_useContext.state,dispatch=_useContext.dispatch,defaultRequestDef=_context_store__WEBPACK_IMPORTED_MODULE_6__.b.currentRequestDef,_useForm=Object(react_hook_form__WEBPACK_IMPORTED_MODULE_5__.a)({defaultValues:state.currentRequestDef}),register=_useForm.register,getValues=_useForm.getValues,handleSubmit=(_useForm.setValue,_useForm.handleSubmit),addBlockToRequestDef=function(){var _ref=Object(_Volumes_Code_samantha_frontend_poc_ui_v3_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__.a)(_Volumes_Code_samantha_frontend_poc_ui_v3_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function _callee(blockDef){var currentBlockDef,updatedBlocks,updatedRequestDef;return _Volumes_Code_samantha_frontend_poc_ui_v3_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:dispatch({type:"set",data:{currentBlockDef:currentBlockDef=blockDef}}),updatedBlocks=[].concat(Object(_Volumes_Code_samantha_frontend_poc_ui_v3_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__.a)(state.currentRequestDef.blocks),[currentBlockDef]),updatedRequestDef=Object(_Volumes_Code_samantha_frontend_poc_ui_v3_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_Volumes_Code_samantha_frontend_poc_ui_v3_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},state.currentRequestDef),{},{blocks:updatedBlocks}),currentBlockDef,dispatch({type:"set",data:{currentRequestDef:updatedRequestDef}}),dispatch({type:"set",data:{BlockDefs:state.blockDefs.slice(state.blockDefs.indexOf(currentBlockDef),1)}});case 7:case"end":return _context.stop()}}),_callee)})));return function addBlockToRequestDef(_x){return _ref.apply(this,arguments)}}(),saveRequestDef=function(){var _ref2=Object(_Volumes_Code_samantha_frontend_poc_ui_v3_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__.a)(_Volumes_Code_samantha_frontend_poc_ui_v3_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function _callee2(){var formValues,currentRequestDef,requestDefs,found;return _Volumes_Code_samantha_frontend_poc_ui_v3_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return formValues=getValues(),currentRequestDef=Object.assign(state.currentRequestDef,formValues),requestDefs=state.requestDefs,found=!1,requestDefs.forEach((function(rd,index){if(rd.id===currentRequestDef.id)return requestDefs[index]=currentRequestDef,void(found=!0)})),found||requestDefs.push(currentRequestDef),_context2.next=8,dispatch({type:"set",data:{requestDefs:requestDefs}});case 8:close();case 9:case"end":return _context2.stop()}}),_callee2)})));return function saveRequestDef(){return _ref2.apply(this,arguments)}}(),close=function close(){dispatch({type:"set",data:{currentRequestDef:defaultRequestDef}}),dispatch({type:"setUi",data:{showEditRequestDef:!1}})};return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div",{className:"row h-100"},react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("main",{className:"d-flex flex-column col-8 mr-2"},react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("h2",null,"Create/Modify Request Def"),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("form",{onSubmit:handleSubmit((function onSumbit(data){console.log(JSON.stringify(data))})),className:"row"},react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div",{className:"form-group col-6"},react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("label",null,"Name: "),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("input",{className:"form-control",ref:register,name:"name"})),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div",{className:"form-group col-6"},react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("label",null,"Requester: "),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("select",{className:"form-control",ref:register,name:"requester"},react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_user_options_users__WEBPACK_IMPORTED_MODULE_11__.a,null))),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div",{className:"form-group col-12"},react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("label",null,"Description: "),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("textarea",{className:"form-control",ref:register,name:"description"})),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div",{className:"form-group col-12 "},react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_block_dnd_target_box__WEBPACK_IMPORTED_MODULE_9__.a,{accept:"block",greedy:!1,onDrop:function onDrop(blockDef){return addBlockToRequestDef(blockDef)}},react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_block_request_blocks__WEBPACK_IMPORTED_MODULE_10__.a,{blocks:state.currentRequestDef.blocks}))),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_7__.a,{className:"d-flex justify-content-around col-12"},react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("button",{className:"btn btn-gray col-2",onClick:saveRequestDef},"save"),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("button",{className:"btn btn-gray col-2",onClick:close},"cancel")))),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("aside",{className:"d-flex flex-column col-4 border-left border-gray row"},react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_block_block_def_palette__WEBPACK_IMPORTED_MODULE_8__.a,null)))}},163:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return request_blocks_RequestBlocks}));var toConsumableArray=__webpack_require__(94),react=__webpack_require__(1),react_default=__webpack_require__.n(react),store=__webpack_require__(5),objectSpread2=__webpack_require__(24),uuid=__webpack_require__(51),uuid_default=__webpack_require__.n(uuid),dnd_target_box=__webpack_require__(91),segment_view_SegmentView=function SegmentView(_ref){var block=_ref.block,updateBlock=_ref.updateBlock;switch(block.type){case"sequenceStages":case"parallelStages":return react_default.a.createElement(segment_view_SegmentCompositeStages,{type:block.type,subBlocks:block.blocks,updateBlock:updateBlock});default:return react_default.a.createElement("span",null)}},segment_view_SegmentCompositeStages=function SegmentCompositeStages(_ref2){_ref2.type;var subBlocks=_ref2.subBlocks,updateBlock=_ref2.updateBlock,_useContext=Object(react.useContext)(store.a),state=_useContext.state,resetPalette=(_useContext.dispatch,function resetPalette(){state.blockDefs.forEach((function(blockDef){blockDef.blocks=[]}))});return react_default.a.createElement("div",{className:"col-12"},react_default.a.createElement(dnd_target_box.a,{accept:"block",greedy:!1,onDrop:function onDrop(item){return function addSubBlock(block){subBlocks.push(Object(objectSpread2.a)(Object(objectSpread2.a)({},block),{},{id:uuid_default.a.v4()})),updateBlock(block),resetPalette()}(item)}},react_default.a.createElement(request_blocks_RequestBlocks,{blocks:subBlocks})))},block_card_BlockCard=function BlockCard(_ref){var block=_ref.block,index=_ref.index,updateOneBlock=_ref.updateOneBlock,blockWidth="leaf"===(null==block?void 0:block.type)?"col-3":"col-12",color="leaf"===block.type?"light-green":"light-brown";return react_default.a.createElement("div",{className:"p-0 m-2 ".concat(blockWidth),key:block.id},react_default.a.createElement("div",{className:"card border-".concat(color," ")},react_default.a.createElement("strong",{className:"card-header bg-".concat(color)},index,react_default.a.createElement("span",{className:"p-2"},"-"),block.name),react_default.a.createElement("div",{className:"card-body"},block.description),react_default.a.createElement(segment_view_SegmentView,{block:block,updateBlock:updateOneBlock})))},request_blocks_RequestBlocks=function RequestBlocks(_ref){var blocks=_ref.blocks,_useContext=Object(react.useContext)(store.a),dispatch=(_useContext.state,_useContext.dispatch),updateOneBlock=function updateOneBlock(block){dispatch({type:"set",data:{blocks:[].concat(Object(toConsumableArray.a)(blocks),[block])}})};return react_default.a.createElement("div",{className:"container-fluid"},react_default.a.createElement("div",{className:"row pr-3"},null==blocks?void 0:blocks.map((function(block,index){return react_default.a.createElement(block_card_BlockCard,{key:block.id,block:block,index:index,updateOneBlock:updateOneBlock})}))))}},164:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return block_def_palette_BlockDefPalette}));var react=__webpack_require__(1),react_default=__webpack_require__.n(react),store=__webpack_require__(5),objectSpread2=__webpack_require__(24),slicedToArray=__webpack_require__(95),uuid=__webpack_require__(51),uuid_default=__webpack_require__.n(uuid),useDrag=__webpack_require__(843),dnd_source_box_DndSourceBox=function DndSourceBox(_ref){var blockDef=_ref.blockDef,type=_ref.type,children=_ref.children,_useDrag=Object(useDrag.a)({item:Object.assign({},{blockDef:Object(objectSpread2.a)(Object(objectSpread2.a)({},blockDef),{},{id:uuid_default.a.v4()}),type:type}),canDrag:!0,collect:function collect(monitor){return{isDragging:monitor.isDragging()}}}),_useDrag2=Object(slicedToArray.a)(_useDrag,2),drag=(_useDrag2[0].isDragging,_useDrag2[1]);return react_default.a.createElement("div",{ref:drag},children)},block_def_palette_BlockDefPalette=function BlockDefPalette(){var _state$blockDefs,_useContext=Object(react.useContext)(store.a),state=_useContext.state;_useContext.dispatch;return react_default.a.createElement("div",null,react_default.a.createElement("h2",null,"Block Palette"),react_default.a.createElement("small",{className:"row"},null===(_state$blockDefs=state.blockDefs)||void 0===_state$blockDefs?void 0:_state$blockDefs.map((function(block){return react_default.a.createElement("div",{className:"card p-0 m-4 col-4",key:block.id},react_default.a.createElement(dnd_source_box_DndSourceBox,{type:"block",blockDef:block},react_default.a.createElement("div",{className:"card"},react_default.a.createElement("strong",{className:"card-header"},block.name),react_default.a.createElement("div",{className:"card-body"},block.description))))}))))}},364:function(module){module.exports=JSON.parse('[{"id":"composite-1","name":"sequencial stage container","description":"a composite block that support running blocks in sequence","type":"sequenceStages","state":"active","requester":"","responders":[],"blocks":[]},{"id":"composite-2","name":"parallel stage container","description":"a composite block that support running blocks in parallel ","type":"parallelStages","state":"active","requester":"","responders":[],"blocks":[]},{"id":"leaf-1","name":"intake a form","description":"ask responder(s) to intake a form","type":"leaf","state":"active","requester":"","responders":[],"blocks":[]},{"id":"leaf-2","name":"approval","description":"ask for approval","type":"leaf","state":"pending","requester":"","responders":[],"blocks":[]},{"id":"leaf-3","name":"collect timesheet","description":"collect timesheets","type":"leaf","state":"active","requester":"","responders":[],"blocks":[]}]')},365:function(module){module.exports=JSON.parse('[{"id":"1","name":"default request, parallel block container","description":"empty request wrapper","type":"parallelStages","state":"pending","requester":"","responders":[],"blocks":[{"id":"leaf-3","name":"collect timesheet","description":"collect timesheets","type":"leaf","state":"active","requester":"","responders":[],"blocks":[]}]},{"id":"2","name":"sequencial request","description":"request container with sequencial request","type":"sequenceStages","state":"pending","requester":"","responders":[],"blocks":[{"id":"composite-1","name":"sequencial stage container","description":"a composite block that support running blocks in sequence","type":"sequenceStages","state":"active","requester":"","responders":[],"blocks":[{"id":"ff3f6d12-eadc-4b8e-a685-0a13c5482040","name":"intake a form","description":"ask responder(s) to intake a form","type":"leaf","state":"active","requester":"","responders":[],"blocks":[]},{"id":"d041b3bb-cf55-4e28-bd39-8c897df5c66a","name":"approval","description":"ask for approval","type":"leaf","state":"pending","requester":"","responders":[],"blocks":[]}]}]}]')},366:function(module){module.exports=JSON.parse('[{"id":"0518ba8c-47b0-4ad9-b672-63ac56855f77","name":"test, I\'m requester","description":"empty request wrapper","type":"parallelStages","state":"pending","requester":"Google_115419186368884878540","responders":[],"blocks":[{"id":"1","name":"intake a form","description":"ask responder(s) to intake a form","type":"leaf","state":"active","requester":"","responders":[],"blocks":[]}]},{"id":"0518ba8c-47b0-4ad9-b672-63ac56855f77","name":"test, I\'m one of the responder","description":"empty request wrapper","type":"parallelStages","state":"pending","requester":"Google_103472621531484531270","responders":["Google_115419186368884878540","Google_103472621531484531270"],"blocks":[{"id":"1","name":"intake a form","description":"ask responder(s) to intake a form","type":"leaf","state":"active","requester":"","responders":[],"blocks":[]}]}]')},367:function(module){module.exports=JSON.parse('{"id":"Google_103472621531484531270","attributes":{"email":"tchen@bellhop.io","name":"Tingdong Chen","given_name":"Tingdong","family_name":"Chen","picture":"https://lh3.googleusercontent.com/a-/AOh14GiewYead-zagD_r1jSjTcZ4QCoIW9GQoc_Bzb3m=s96-c"}}')},368:function(module){module.exports=JSON.parse('[{"id":"Google_115419186368884878540","attributes":{"name":"Tingdong Chen","email":"tchen@bellhop.io","picture":"https://lh3.googleusercontent.com/a-/AOh14GiewYead-zagD_r1jSjTcZ4QCoIW9GQoc_Bzb3m=s96-c","given_name":"Tingdong","family_name":"Chen"}},{"id":"Google_103472621531484531270","attributes":{"name":"Jin Wang","email":"jwang@bellhop.io","picture":"https://lh5.googleusercontent.com/-xEaLAd_VIeA/AAAAAAAAAAI/AAAAAAAAAAA/AAKWJJNadG317YsFONo_xOe5jCt8X1B5og/s96-c/photo.jpg","given_name":"Jin","family_name":"Wang"}},{"id":"Google_111918078641246610063","attributes":{"name":"Baiji He","email":"baiji@bellhop.io","picture":"https://lh5.googleusercontent.com/-xEaLAd_VIeA/AAAAAAAAAAI/AAAAAAAAAAA/AAKWJJNadG317YsFONo_xOe5jCt8X1B5og/s96-c/photo.jpg","given_name":"Baiji","family_name":"He"}}]')},376:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/bellhop.629a2d6b.png"},399:function(module,exports,__webpack_require__){__webpack_require__(400),__webpack_require__(546),module.exports=__webpack_require__(547)},464:function(module,exports){},5:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Context})),__webpack_require__.d(__webpack_exports__,"b",(function(){return initialState}));__webpack_require__(95);var react=__webpack_require__(1),react_default=__webpack_require__.n(react),initialState=(__webpack_require__(101),__webpack_require__(24),__webpack_require__(156)),Context=(__webpack_require__(364),__webpack_require__(365),__webpack_require__(366),__webpack_require__(367),__webpack_require__(368),react_default.a.createContext({state:initialState,dispatch:function dispatch(){}}))},547:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(363);module._StorybookPreserveDecorators=!0,Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.configure)([__webpack_require__(731)],module)}.call(this,__webpack_require__(278)(module))},731:function(module,exports,__webpack_require__){var map={"./components/pages/pages.stories.js":810,"./components/request/request.stories.js":805,"./stories/0-Welcome.stories.js":806,"./stories/1-Button.stories.js":807,"./stories/2-Poc.V2.stories.js":808};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=731},805:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"requestDefsMenu",(function(){return requestDefsMenu})),__webpack_require__.d(__webpack_exports__,"editRequestDef",(function(){return editRequestDef}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_request_defs_menu__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(124),_edit_request_def__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(159);__webpack_exports__.default={title:"requests",component:_request_defs_menu__WEBPACK_IMPORTED_MODULE_1__.a};var _ref=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_request_defs_menu__WEBPACK_IMPORTED_MODULE_1__.a,null),requestDefsMenu=function(){return _ref};requestDefsMenu.displayName="requestDefsMenu";var _ref2=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_edit_request_def__WEBPACK_IMPORTED_MODULE_2__.a,null),editRequestDef=function(){return _ref2};editRequestDef.displayName="editRequestDef",requestDefsMenu.__docgenInfo={description:"",methods:[],displayName:"requestDefsMenu"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/request/request.stories.js"]={name:"requestDefsMenu",docgenInfo:requestDefsMenu.__docgenInfo,path:"src/components/request/request.stories.js"}),editRequestDef.__docgenInfo={description:"",methods:[],displayName:"editRequestDef"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/request/request.stories.js"]={name:"editRequestDef",docgenInfo:editRequestDef.__docgenInfo,path:"src/components/request/request.stories.js"})},806:function(module,exports){},807:function(module,exports){},808:function(module,exports){},810:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"virtualAssistant",(function(){return virtualAssistant})),__webpack_require__.d(__webpack_exports__,"login",(function(){return pages_stories_login})),__webpack_require__.d(__webpack_exports__,"notFound",(function(){return notFound}));var react=__webpack_require__(1),react_default=__webpack_require__.n(react),Tab=__webpack_require__(841),Nav=__webpack_require__(842),store=__webpack_require__(5);function Request(_ref){var _request$blocks,request=_ref.request,_useContext=Object(react.useContext)(store.a),state=_useContext.state,dispatch=_useContext.dispatch;return react_default.a.createElement("div",{className:"card mt-2"},react_default.a.createElement("div",{className:"d-flex justify-content-between"},react_default.a.createElement("div",{className:"col-8 btn text-left",onClick:function requestView(){dispatch({type:"set",data:{currentRequest:request}}),isRequester(request,state)?dispatch({type:"setUi",data:{showRequestViewRequester:!0}}):isResponder(request,state)&&dispatch({type:"setUi",data:{showRequestViewResponder:!0}})}},react_default.a.createElement("h4",null,request.name),react_default.a.createElement("p",null,request.description),react_default.a.createElement("p",null,"Requester: ",request.requester),react_default.a.createElement("p",null,"Responders:",request.responders.map((function(responder,index){return react_default.a.createElement("span",{key:"responder-".concat(index),className:"p-2"},responder)}))),react_default.a.createElement("p",null,null===(_request$blocks=request.blocks)||void 0===_request$blocks?void 0:_request$blocks.map((function(block,index2){return react_default.a.createElement("span",{className:"border p-2 mr-2",key:"block-".concat(index2)},block.name)})))),react_default.a.createElement("div",{className:"col-4 text-right"},react_default.a.createElement("button",{className:"btn btn-link",onClick:function editRequest(){dispatch({type:"set",data:{currentRequest:request}}),dispatch({type:"setUi",data:{showEditRequest:!0}})}},"View/Edit"))))}function isRequester(request,state){return request.requester===state.user.id}function isResponder(request,state){return request.responders.indexOf(state.user.id)>-1}function RequestsMade(){var state=Object(react.useContext)(store.a).state;return react_default.a.createElement("div",null,react_default.a.createElement("h2",null,"Requests Made"),state.requests.filter((function(req){return isRequester(req,state)})).map((function(request){return react_default.a.createElement(Request,{key:request.id,request:request})})))}function RequestsReceived(){var _useContext3=Object(react.useContext)(store.a),state=_useContext3.state;_useContext3.dispatch;return react_default.a.createElement("div",null,react_default.a.createElement("h2",null,"Requests Received"),state.requests.filter((function(req){return isResponder(req,state)})).map((function(request){return react_default.a.createElement(Request,{key:request.id,request:request})})))}var request_defs_menu=__webpack_require__(124),regenerator=__webpack_require__(41),regenerator_default=__webpack_require__.n(regenerator),objectSpread2=__webpack_require__(24),toConsumableArray=__webpack_require__(94),asyncToGenerator=__webpack_require__(96),uuid=__webpack_require__(51),uuid_default=__webpack_require__.n(uuid),react_hook_form_es=__webpack_require__(157),ButtonGroup=__webpack_require__(812),block_def_palette=__webpack_require__(164),dnd_target_box=__webpack_require__(91),request_blocks=__webpack_require__(163),options_users=__webpack_require__(126),edit_request_EditRequest=function EditRequest(){var _useContext=Object(react.useContext)(store.a),state=_useContext.state,dispatch=_useContext.dispatch,defaultRequest=store.b.currentRequest,_useForm=Object(react_hook_form_es.a)({defaultValues:state.currentRequest}),register=_useForm.register,getValues=_useForm.getValues,setValue=_useForm.setValue,handleSubmit=_useForm.handleSubmit,addBlockToRequest=function(){var _ref=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee(block){var updatedBlocks,updatedRequest;return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:block.id=uuid_default.a.v4(),updatedBlocks=[].concat(Object(toConsumableArray.a)(state.currentRequest.blocks),[block]),updatedRequest=Object(objectSpread2.a)(Object(objectSpread2.a)({},state.currentRequest),{},{blocks:updatedBlocks}),dispatch({type:"set",data:{currentRequest:updatedRequest}});case 4:case"end":return _context.stop()}}),_callee)})));return function addBlockToRequest(_x){return _ref.apply(this,arguments)}}(),saveRequest=function(){var _ref2=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee2(){var formValues,currentRequest,requests,found;return regenerator_default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return formValues=getValues(),currentRequest=Object.assign(state.currentRequest,formValues),requests=state.requests,found=!1,requests.forEach((function(rd,index){if(rd.id===currentRequest.id)return requests[index]=currentRequest,void(found=!0)})),found||requests.push(currentRequest),_context2.next=8,dispatch({type:"set",data:{requests:requests}});case 8:return setValue("object",{}),_context2.next=11,dispatch({type:"set",data:{currentRequest:defaultRequest}});case 11:close();case 12:case"end":return _context2.stop()}}),_callee2)})));return function saveRequest(){return _ref2.apply(this,arguments)}}(),close=function close(){dispatch({type:"setUi",data:{showEditRequest:!1}}),dispatch({type:"set",data:{currentRequest:store.b.currentRequest}})};return react_default.a.createElement("div",{className:"row h-100",style:{top:"0",right:"0",zIndex:5}},react_default.a.createElement("main",{className:"d-flex flex-column col-8 mr-2"},react_default.a.createElement("h2",null,"Create/Modify Request"),react_default.a.createElement("form",{onSubmit:handleSubmit((function onSumbit(data){console.log(JSON.stringify(data))})),className:"row"},react_default.a.createElement("div",{className:"form-group col-6"},react_default.a.createElement("label",null,"Name: "),react_default.a.createElement("input",{className:"form-control",ref:register,name:"name"})),react_default.a.createElement("div",{className:"form-group col-6"},react_default.a.createElement("label",null,"Request Owner: "),react_default.a.createElement("select",{className:"form-control",ref:register,name:"requester"},react_default.a.createElement(options_users.a,null))),react_default.a.createElement("div",{className:"form-group col-6"},react_default.a.createElement("label",null,"Description: "),react_default.a.createElement("textarea",{className:"form-control",ref:register,name:"description"})),react_default.a.createElement("div",{className:"form-group col-6"},react_default.a.createElement("label",null,"Responders: "),react_default.a.createElement("select",{className:"form-control",ref:register,name:"responders",multiple:!0},react_default.a.createElement(options_users.a,null))),react_default.a.createElement("div",{className:"form-group col-12"},react_default.a.createElement(dnd_target_box.a,{accept:"block",greedy:!1,onDrop:function onDrop(blockDef){return addBlockToRequest(blockDef)}},react_default.a.createElement(request_blocks.a,{blocks:state.currentRequest.blocks}))),react_default.a.createElement(ButtonGroup.a,{className:"col-12"},react_default.a.createElement("button",{className:"btn btn-light",onClick:saveRequest},"save"),react_default.a.createElement("button",{className:"btn btn-light",onClick:close},"cancel")))),react_default.a.createElement("aside",{className:"d-flex flex-column col-4 border-left border-gray row"},react_default.a.createElement(block_def_palette.a,null)))},chat_Chat=function Chat(){return react_default.a.createElement("div",{className:"d-flex vh-100 row"},react_default.a.createElement("main",{className:"align-self-start col-12 m-2"},react_default.a.createElement("h2",null,"Chat")),react_default.a.createElement("footer",{className:"align-self-end col-12"},react_default.a.createElement("input",{name:"message",className:"form-control",placeholder:"chat input here..."})))},request_view_RequestViewRequester=function RequestViewRequester(){var _useContext=Object(react.useContext)(store.a),state=_useContext.state,dispatch=_useContext.dispatch;return state.uiState.showRequestViewRequester&&react.createElement("div",{className:"bg-white position-absolute col-10 offset-2 vh-100",style:{top:"0"}},react.createElement("div",{className:"row"},react.createElement("div",{className:"col-8"},react.createElement("button",{className:"position-absolute btn btn-link m-2",style:{right:"0"},onClick:function close(){dispatch({type:"setUi",data:{showRequestViewRequester:!1}})}},"back to request menu"),react.createElement("h1",null,"Requester surface"),react.createElement("div",null,react.createElement("p",null,"this is the requester's view for request "),JSON.stringify(state.currentRequest,null,2))),react.createElement("div",{className:"col-4 border-left p-0"},react.createElement(chat_Chat,null))))},request_view_RequestViewResponder=function RequestViewResponder(){var _useContext2=Object(react.useContext)(store.a),state=_useContext2.state,dispatch=_useContext2.dispatch;return state.uiState.showRequestViewResponder&&react.createElement("div",{className:"bg-white position-absolute col-10 offset-2 vh-100",style:{top:"0"}},react.createElement("div",{className:"row"},react.createElement("div",{className:"col-8"},react.createElement("button",{className:"position-absolute btn btn-link m-2",style:{right:"0"},onClick:function close(){dispatch({type:"setUi",data:{showRequestViewResponder:!1}})}},"back to request menu"),react.createElement("h1",null,"Responder surface"),react.createElement("p",null,"this is the responder's view for request "),react.createElement("pre",null,JSON.stringify(state.currentRequest,null,4))),react.createElement("div",{className:"col-4 border-left p-0"},react.createElement(chat_Chat,null))))},lib=__webpack_require__(371),lib_default=__webpack_require__.n(lib),context_view_codes_ContextViewCodes=(__webpack_require__(741),__webpack_require__(742),function ContextViewCodes(){var _useContext=Object(react.useContext)(store.a),state=_useContext.state;_useContext.dispatch;return react_default.a.createElement("div",null,react_default.a.createElement("h5",null,"context"),react_default.a.createElement(lib_default.a,{mode:"json",theme:"github",name:"context",width:"100%",maxLines:1/0,editorProps:{$blockScrolling:!0},value:JSON.stringify(state,null,2)}))}),edit_request_def=__webpack_require__(159),react_animated_css_lib=__webpack_require__(224);var virtual_assistant=function VirtualAssistant(){var _useContext=Object(react.useContext)(store.a),state=_useContext.state,dispatch=_useContext.dispatch;return react.createElement("div",{className:"container-fluid"},react.createElement("main",null,react.createElement(Tab.a.Container,{defaultActiveKey:"requestMenu"},react.createElement("div",{className:"row"},react.createElement("div",{className:"col-2 mt-4",onClick:function onClick(e){return dispatch({type:"resetUi"})}},react.createElement(Nav.a,{className:"flex-column"},react.createElement(Nav.a.Link,{className:"mt-2 btn btn-light",eventKey:"requestMenu"},"requestMenu"),react.createElement(Nav.a.Link,{className:"mt-2 btn btn-light",eventKey:"requestMade"},"requestMade"),react.createElement(Nav.a.Link,{className:"mt-2 btn btn-light",eventKey:"requestReceived"},"requestReceived"))),react.createElement("div",{className:"col-10 pt-2"},react.createElement(Tab.a.Content,null,react.createElement(Tab.a.Pane,{eventKey:"requestMenu",className:"vh-100"},react.createElement(request_defs_menu.a,null)),react.createElement(Tab.a.Pane,{eventKey:"requestMade",className:"vh-100"},react.createElement(RequestsMade,null)),react.createElement(Tab.a.Pane,{eventKey:"requestReceived",className:"vh-100"},react.createElement(RequestsReceived,null)))))),react.createElement(request_view_RequestViewRequester,null),react.createElement(request_view_RequestViewResponder,null)),react.createElement("div",{className:"col-10 offset-2 position-absolute bg-white",style:{top:"0",zIndex:5}},state.uiState.showEditRequestDef&&react.createElement("div",{className:"vh-100"},react.createElement(react_animated_css_lib.Animated,{animationIn:"slideInRight",animationInDuration:300,animationOut:"bounceOutRight",isVisible:!0},react.createElement(edit_request_def.a,null))),state.uiState.showEditRequest&&react.createElement("div",{className:"vh-100"},react.createElement(react_animated_css_lib.Animated,{animationIn:"slideInDown",animationInDuration:300,animationOut:"bounceOutRight",isVisible:!0},react.createElement(edit_request_EditRequest,null)))),react.createElement("footer",{className:"border-top small"},react.createElement(context_view_codes_ContextViewCodes,null)))},lib_esm=__webpack_require__(377),Auth=__webpack_require__(390),uiBaseUrl=(__webpack_require__(300),__webpack_require__(305),window.location.origin),portWeb=uiBaseUrl.includes("local")?":3000":"",apiBaseUrl=window.location.protocol+"//"+window.location.hostname+portWeb,portWs=uiBaseUrl.includes("local")?":3001":"",configs_config={Auth:{identityPoolId:"us-east-1:e521146f-c326-4330-bd16-600e0ddf24dc",region:"us-east-1",userPoolId:"us-east-1_6akVugwW4",userPoolWebClientId:"6d1p0lme6utp45besu853baov6",authenticationFlowType:"USER_PASSWORD_AUTH",oauth:{domain:"samantha.auth.us-east-1.amazoncognito.com",scope:["email","profile","openid"],redirectSignIn:uiBaseUrl,redirectSignOut:uiBaseUrl+"/login",responseType:"token"}},Storage:{region:"global",bucket:"samantha-upload",identityPoolId:"us-east-1:e521146f-c326-4330-bd16-600e0ddf24dc"},social:{googleClientId:"207735501972-ocdbkaprm6s2mvsb7h91ecfq7r4fvmne.apps.googleusercontent.com",facebookAppId:"2505833796351691"},wsUrl:"wss://"+window.location.hostname+portWs,suggestUrl:"https://xwkk9zmwbj.execute-api.us-east-1.amazonaws.com/dev/suggest",apiBaseUrl:apiBaseUrl},bellhop=__webpack_require__(376),bellhop_default=__webpack_require__.n(bellhop);var login=function Login(){var _useContext=Object(react.useContext)(store.a);return _useContext.state,_useContext.dispatch,lib_esm.default.configure(configs_config),react.createElement("div",{className:"row vh-100"},react.createElement("div",{className:"m-auto my-auto w-25"},react.createElement("div",{className:"text-center mb-4"},react.createElement("img",{src:bellhop_default.a,alt:"",style:{maxWidth:"100%"}})),react.createElement("button",{className:"btn btn-primary form-control",onClick:function handleFederatedLogin(){Auth.a.federatedSignIn()}},"Login with social accounts")))};var not_found=function NotFound(){return react.createElement("div",{className:"not-found m-auto col-4"},react.createElement("h3",null,"Sorry, page not found!"))},pages_stories_ref=(__webpack_exports__.default={title:"POC V2 pages",component:virtual_assistant},react_default.a.createElement(virtual_assistant,null)),virtualAssistant=function(){return pages_stories_ref};virtualAssistant.displayName="virtualAssistant";var pages_stories_ref2=react_default.a.createElement(login,null),pages_stories_login=function(){return pages_stories_ref2};pages_stories_login.displayName="login";var _ref3=react_default.a.createElement(not_found,null),notFound=function(){return _ref3};notFound.displayName="notFound",virtualAssistant.__docgenInfo={description:"",methods:[],displayName:"virtualAssistant"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/pages/pages.stories.js"]={name:"virtualAssistant",docgenInfo:virtualAssistant.__docgenInfo,path:"src/components/pages/pages.stories.js"}),pages_stories_login.__docgenInfo={description:"",methods:[],displayName:"login"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/pages/pages.stories.js"]={name:"login",docgenInfo:pages_stories_login.__docgenInfo,path:"src/components/pages/pages.stories.js"}),notFound.__docgenInfo={description:"",methods:[],displayName:"notFound"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/pages/pages.stories.js"]={name:"notFound",docgenInfo:notFound.__docgenInfo,path:"src/components/pages/pages.stories.js"})},91:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DndTargetBox}));var _Volumes_Code_samantha_frontend_poc_ui_v3_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(95),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),react_dnd__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(813),DndTargetBox=function DndTargetBox(_ref){var accept=_ref.accept,onDrop=_ref.onDrop,_ref$greedy=_ref.greedy,greedy=void 0!==_ref$greedy&&_ref$greedy,children=_ref.children,_useDrop=Object(react_dnd__WEBPACK_IMPORTED_MODULE_2__.a)({accept:accept,hover:function hover(item,monitor){monitor.isOver()},drop:function drop(item,monitor){monitor.didDrop()||onDrop(item.blockDef)},collect:function collect(monitor){return{isOver:monitor.isOver({shallow:!1}),isOverCurrent:monitor.isOver({shallow:!0})}}}),_useDrop2=Object(_Volumes_Code_samantha_frontend_poc_ui_v3_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_useDrop,2),_useDrop2$=_useDrop2[0],isOver=_useDrop2$.isOver,isOverCurrent=_useDrop2$.isOverCurrent,drop=_useDrop2[1],hoverClass=isOverCurrent||isOver&&greedy?"bg-highlight":"";return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{ref:drop,className:"border-gray pb-2 ".concat(hoverClass),style:{minHeight:"100px",borderStyle:"dotted"}},children)}}},[[399,1,2]]]);
//# sourceMappingURL=main.0a0a0f953d6c0ab9ac35.bundle.js.map